# LTC

LTC (Laterem Task Configuration) - простой язык для описания шаблонов задач.
LTC позволяет учителю автоматизировать процессы подготовки и проверки задач: с его помощью можно указывать критерии оценки ответов и задавать логику генерации случайных значений.

## Версия LTC

Документ описывает синтаксис LTC версии 1.0

## Работа с LTC

### Типы данных

*дописать*

### Переменные

Значения в LTC можно хранить в переменных и впоследствии ссылаться на них:

> `config.ltc`

```ltc
a = 10
b = -2.5
c = 'Hello world!'
d = "Hello world!"
```

В том числе переменные могут принимать результаты функций и другие переменные

> `config.ltc`

```ltc
e = SomeFunction()
foo = b
bar = OtherFunction(a, b)
```

Файлы разметки внешнего вида задач (`view.html`) могут ссылаться на значения переменных LTC.
Для этого внутри `view.html` укажите название переменной в фигурных скобках:

> `view.html`

```html
<p>
    The dolphins say it's {{ foo }}.
</p>
```

## Комментарии

В коде LTC можно оставлять пользовательские комментарии - они не будут видны компилятору и никак не повлияют на исполнение кода

> `config.ltc`

```ltc
foo = baz   #Комментарий
# Комментарий на всю строку
```

## Доступ к ответам пользователя

Для указания критериев оценки задачи в коде LTC можно ссылаться на ответы пользователя на задачу.
Если в вашем файле разметки указано именованное поле ввода, например

> `view.html`

```html
<input name=”answer” type=”text”>
```

то чтобы получить значение этого поля в решении пользователя укажите название поля ввода с символом `$` перед ним:

> `config.ltc`

```ltc
a = $answer 
b = SomeFunction($answer)
```

## Критерии оценки

Чтобы указать критерий оценки задачи используйте кодовое слово `check` и задайте функцию, по которой будет производиться проверка. Если при оценке ответов на задачу функция вернёт истинное значение (булевое `True` или его эквиваленты), данная проверка пройдена. Если в решении задачи пройдены все проверки, ему начисляется вердикт "OK".

> `view.html`

```html
<input name=”answer” type=”text”>
```

> `config.ltc`

```ltc
check Equals($answer, 42)
# Or
x = SomeFunction($answer)
check Equals(x, 42)
```

## Параметры

Вы можете пометить некоторые переменные как параметры.
В то время как значения переменных зависят от шаблона задачи, параметры можно изменять отдельно для каждого экземпляра задачи, созданного по данному шаблону. Меню редактирования параметров задачи можно открыть в панели учителя на сайте.
Чтобы пометить переменную как параметр, используете кодовое слово `export` перед названием переменной при её инициализации.

> `config.ltc`

```ltc
export title = ’Hello math students!’ 

desc = ’Good luck with math!’
export desc 
```

## Ограничения

Если ваш шаблон использует случайно сгенерированные данные, вы можете удостовериться что они соблюдают некоторые ограничения.
Для этого используйте кодовое слово `constrain` и укажите булевую функцию, по которой будет проводиться проверка на соблюдение ограничения.

> `config.ltc`

```ltc
foobar = SomeRandomFunction()

constrain NotEqual(foobar, 42)
```

Генератор будет обновлять случайные значения до тех пор, пока все ограничения не будут соблюдены, или пока количество попыток не достигнет 100, в данном случае компилятор выдаст ошибку. Старайтесь избегать слишком узких ограничений.
